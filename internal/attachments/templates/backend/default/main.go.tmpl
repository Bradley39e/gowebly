package main

import (
	"embed"
	"log/slog"
	"net/http"
	"os"

	_ "github.com/joho/godotenv/autoload" // autoload environment variables
)

//go:embed static/*
var static embed.FS

func main() {
	// Handle views.
	http.HandleFunc("/", indexViewHandler)

	// Handle static files.
	http.Handle("/static/", http.FileServer(http.FS(static)))

	// Run your server.
	if err := runServer(); err != nil {
		slog.Error("msg", err.Error())
		os.Exit(1)
	}
}
